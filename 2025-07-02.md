从波形能看出 3 个循环的嵌套层次：

| 计数器      | 变化速度   | 作用                               |
| -------- | ------ | -------------------------------- |
| `N_cnt`  | **最快** | 当前写的输出通道 index（1‥N）              |
| `ox_cnt` | 中等     | 当前行里第几个 **8-byte 列块**（0‥OUT_w-1） |
| `oy_cnt` | **最慢** | 当前输出行 index（0‥OUT_h-1）           |
![[Pasted image 20250702201325.png]]
InOut-Buffer
┌─────────────┬─────────────┬─────────────┐
│ Bank0 (Byte)   │ Bank1 (Byte)   │ … Bank7         │   ← 8 个并行 Byte-wide BRAM
│ addr 0             │ addr 0            │                        │
│ addr 1             │ addr 1            │                        │
└─────────────┴─────────────┴─────────────┘
                 ▲
                 └─ **同一个 wr_addr** 连接到 8 个 bank
