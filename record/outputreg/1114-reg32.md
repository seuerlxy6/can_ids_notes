- 现在的设计协议：
    
    - 外层循环：`row=0..15`
        
    - 里层：`g=1..4`（对应 0–7,8–15,16–23,24–31 四组通道）
        
    - 最里：`col=0..15`
        
    - 每个时钟给 8 个通道一个像素，`ft_N_cnt=g`。
        
- 像素值用一个函数 `pix_val(ch,row,col)` 生成，在“喂数据”和“算期望窗口”时都用同一个函数。
    
- 每当 `ORegfile_OData_vldX` 有效，就：
    
    - 反推出这是第几通道：`ch = base_ch + (X-1)`
        
    - 算出期望 8×8 窗口内容，逐点比对 `ORegfile_ODataX` 里的 64 个像素。
        
    - 每个通道的窗口数量计数，应该都是 9 个（3×3）。
![[Pasted image 20251118173656.png]]